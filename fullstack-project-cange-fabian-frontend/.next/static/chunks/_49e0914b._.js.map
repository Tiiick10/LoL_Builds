{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fabia/Desktop/LoL_Builds/fullstack-project-cange-fabian-frontend/utils/axios.ts"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst API = axios.create({\r\n  baseURL: 'http://localhost:8000/api/',\r\n})\r\n\r\n// Interceptor to attach token to every request\r\n\r\nAPI.interceptors.request.use(config => {\r\n  const token = localStorage.getItem('access')\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`\r\n  }\r\n  return config\r\n})\r\n\r\nexport default API\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,+CAA+C;AAE/C,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;IAC3B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fabia/Desktop/LoL_Builds/fullstack-project-cange-fabian-frontend/components/ArticleCard.tsx"],"sourcesContent":["'use client'\r\nimport Link from 'next/link'\r\n\r\ninterface Props {\r\n  article: {\r\n    id: number\r\n    titre: string\r\n    image_banner: string\r\n    categorie: string\r\n  }\r\n}\r\n\r\nexport default function ArticleCard({ article }: Props) {\r\n  return (\r\n    <div className=\"bg-white text-gray-900 rounded-lg shadow overflow-hidden\">\r\n      <img\r\n        src={article.image_banner}\r\n        alt={article.titre}\r\n        className=\"w-full h-40 object-cover\"\r\n      />\r\n      <div className=\"p-4\">\r\n        <h2 className=\"text-xl font-bold mb-2\">{article.titre}</h2>\r\n        <p className=\"text-sm text-gray-600 mb-4\">{article.categorie}</p>\r\n        <Link\r\n          href={`/articles/${article.id}`}\r\n          className=\"inline-block bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition\"\r\n        >\r\n          See Article\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AADA;;;AAYe,SAAS,YAAY,EAAE,OAAO,EAAS;IACpD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,KAAK,QAAQ,YAAY;gBACzB,KAAK,QAAQ,KAAK;gBAClB,WAAU;;;;;;0BAEZ,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAA0B,QAAQ,KAAK;;;;;;kCACrD,6LAAC;wBAAE,WAAU;kCAA8B,QAAQ,SAAS;;;;;;kCAC5D,6LAAC,+JAAA,CAAA,UAAI;wBACH,MAAM,CAAC,UAAU,EAAE,QAAQ,EAAE,EAAE;wBAC/B,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT;KApBwB","debugId":null}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fabia/Desktop/LoL_Builds/fullstack-project-cange-fabian-frontend/app/articles/page.tsx"],"sourcesContent":["'use client'\r\nimport { useEffect, useState } from 'react'\r\nimport API from '@/utils/axios'\r\nimport ArticleCard from '@/components/ArticleCard'\r\nimport { jwtDecode } from 'jwt-decode'\r\nimport Link from 'next/link'\r\n\r\ninterface Article {\r\n  id: number\r\n  titre: string\r\n  categorie: string\r\n  image_banner: string\r\n}\r\n\r\ninterface DecodedToken {\r\n  username: string\r\n  is_superuser: boolean\r\n  role: string\r\n}\r\n\r\nconst CATEGORIES = ['all', 'guide', 'news', 'patch', 'meta']\r\n\r\nexport default function ArticlesPage() {\r\n  const [articles, setArticles] = useState<Article[]>([])\r\n  const [filteredArticles, setFilteredArticles] = useState<Article[]>([])\r\n  const [selectedCategory, setSelectedCategory] = useState<string>('all')\r\n  const [isRedacteur, setIsRedacteur] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const fetchArticles = async () => {\r\n      try {\r\n        const res = await API.get('articles/public/')\r\n        setArticles(res.data)\r\n        setFilteredArticles(res.data)\r\n      } catch (err) {\r\n        console.error('Error while loading articles:', err)\r\n      }\r\n    }\r\n\r\n    const token = localStorage.getItem('access')\r\n    if (token) {\r\n      try {\r\n        const decoded: DecodedToken = jwtDecode(token)\r\n        if (decoded.role === 'Redacteur') {\r\n          setIsRedacteur(true)\r\n        }\r\n      } catch (err) {\r\n        console.error('Invalid token')\r\n      }\r\n    }\r\n\r\n    fetchArticles()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (selectedCategory === 'all') {\r\n      setFilteredArticles(articles)\r\n    } else {\r\n      setFilteredArticles(articles.filter(article => article.categorie === selectedCategory))\r\n    }\r\n  }, [selectedCategory, articles])\r\n\r\n  return (\r\n    <main className=\"p-8\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-3xl font-bold\">Articles</h1>\r\n        {isRedacteur && (\r\n          <Link\r\n            href=\"/articles/create\"\r\n            className=\"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded\"\r\n          >\r\n            + Create Article\r\n          </Link>\r\n        )}\r\n      </div>\r\n\r\n      {/* Category Filter */}\r\n      <div className=\"mb-6\">\r\n        <select\r\n          value={selectedCategory}\r\n          onChange={(e) => setSelectedCategory(e.target.value)}\r\n          className=\"p-2 bg-gray-800 text-white rounded\"\r\n        >\r\n          {CATEGORIES.map((cat) => (\r\n            <option key={cat} value={cat}>\r\n              {cat === 'all' ? 'All Categories' : cat.charAt(0).toUpperCase() + cat.slice(1)}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {filteredArticles.map((article) => (\r\n          <ArticleCard key={article.id} article={article} />\r\n        ))}\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;;;AALA;;;;;;AAoBA,MAAM,aAAa;IAAC;IAAO;IAAS;IAAQ;IAAS;CAAO;AAE7C,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACjE,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM;wDAAgB;oBACpB,IAAI;wBACF,MAAM,MAAM,MAAM,iHAAA,CAAA,UAAG,CAAC,GAAG,CAAC;wBAC1B,YAAY,IAAI,IAAI;wBACpB,oBAAoB,IAAI,IAAI;oBAC9B,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC,iCAAiC;oBACjD;gBACF;;YAEA,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO;gBACT,IAAI;oBACF,MAAM,UAAwB,CAAA,GAAA,yJAAA,CAAA,YAAS,AAAD,EAAE;oBACxC,IAAI,QAAQ,IAAI,KAAK,aAAa;wBAChC,eAAe;oBACjB;gBACF,EAAE,OAAO,KAAK;oBACZ,QAAQ,KAAK,CAAC;gBAChB;YACF;YAEA;QACF;iCAAG,EAAE;IAEL,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,IAAI,qBAAqB,OAAO;gBAC9B,oBAAoB;YACtB,OAAO;gBACL,oBAAoB,SAAS,MAAM;8CAAC,CAAA,UAAW,QAAQ,SAAS,KAAK;;YACvE;QACF;iCAAG;QAAC;QAAkB;KAAS;IAE/B,qBACE,6LAAC;QAAK,WAAU;;0BACd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAqB;;;;;;oBAClC,6BACC,6LAAC,+JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;0BAOL,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,OAAO;oBACP,UAAU,CAAC,IAAM,oBAAoB,EAAE,MAAM,CAAC,KAAK;oBACnD,WAAU;8BAET,WAAW,GAAG,CAAC,CAAC,oBACf,6LAAC;4BAAiB,OAAO;sCACtB,QAAQ,QAAQ,mBAAmB,IAAI,MAAM,CAAC,GAAG,WAAW,KAAK,IAAI,KAAK,CAAC;2BADjE;;;;;;;;;;;;;;;0BAOnB,6LAAC;gBAAI,WAAU;0BACZ,iBAAiB,GAAG,CAAC,CAAC,wBACrB,6LAAC,6HAAA,CAAA,UAAW;wBAAkB,SAAS;uBAArB,QAAQ,EAAE;;;;;;;;;;;;;;;;AAKtC;GA5EwB;KAAA","debugId":null}}]
}