{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Win/OneDrive/Bureau/fullstack_project_CANGE_FABIAN/fullstack-project-cange-fabian-frontend/utils/axios.ts"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst API = axios.create({\r\n  baseURL: 'http://localhost:8000/api/',\r\n})\r\n\r\n// Interceptor to attach token to every request\r\n\r\nAPI.interceptors.request.use(config => {\r\n  const token = localStorage.getItem('access')\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`\r\n  }\r\n  return config\r\n})\r\n\r\nexport default API\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,+CAA+C;AAE/C,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;IAC3B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Win/OneDrive/Bureau/fullstack_project_CANGE_FABIAN/fullstack-project-cange-fabian-frontend/components/ArticleCard.tsx"],"sourcesContent":["'use client'\nimport Link from 'next/link'\n\ninterface Props {\n  article: {\n    id: number\n    titre: string\n    image_banner: string\n    categorie: string\n  }\n}\n\nexport default function ArticleCard({ article }: Props) {\n  return (\n    <div className=\"bg-white text-gray-900 rounded-lg shadow overflow-hidden\">\n      <img\n        src={article.image_banner}\n        alt={article.titre}\n        className=\"w-full h-40 object-cover\"\n      />\n      <div className=\"p-4\">\n        <h2 className=\"text-xl font-bold mb-2\">{article.titre}</h2>\n        <p className=\"text-sm text-gray-600 mb-4\">{article.categorie}</p>\n        <Link\n          href={`/articles/${article.id}`}\n          className=\"inline-block bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition\"\n        >\n          See Article\n        </Link>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AACA;AADA;;;AAYe,SAAS,YAAY,EAAE,OAAO,EAAS;IACpD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,KAAK,QAAQ,YAAY;gBACzB,KAAK,QAAQ,KAAK;gBAClB,WAAU;;;;;;0BAEZ,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAA0B,QAAQ,KAAK;;;;;;kCACrD,6LAAC;wBAAE,WAAU;kCAA8B,QAAQ,SAAS;;;;;;kCAC5D,6LAAC,+JAAA,CAAA,UAAI;wBACH,MAAM,CAAC,UAAU,EAAE,QAAQ,EAAE,EAAE;wBAC/B,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT;KApBwB","debugId":null}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Win/OneDrive/Bureau/fullstack_project_CANGE_FABIAN/fullstack-project-cange-fabian-frontend/app/articles/page.tsx"],"sourcesContent":["'use client'\nimport { useEffect, useState } from 'react'\nimport API from '@/utils/axios'\nimport ArticleCard from '@/components/ArticleCard'\nimport { jwtDecode } from 'jwt-decode'\nimport Link from 'next/link'\n\ninterface Article {\n  id: number\n  titre: string\n  categorie: string\n  image_banner: string\n}\n\ninterface DecodedToken {\n  username: string\n  is_superuser: boolean\n  role: string\n}\n\nconst CATEGORIES = ['all', 'guide', 'news', 'patch', 'meta']\n\nexport default function ArticlesPage() {\n  const [articles, setArticles] = useState<Article[]>([])\n  const [filteredArticles, setFilteredArticles] = useState<Article[]>([])\n  const [selectedCategory, setSelectedCategory] = useState<string>('all')\n  const [isRedacteur, setIsRedacteur] = useState(false)\n\n  useEffect(() => {\n    const fetchArticles = async () => {\n      try {\n        const res = await API.get('articles/public/')\n        setArticles(res.data)\n        setFilteredArticles(res.data)\n      } catch (err) {\n        console.error('Error while loading articles:', err)\n      }\n    }\n\n    const token = localStorage.getItem('access')\n    if (token) {\n      try {\n        const decoded: DecodedToken = jwtDecode(token)\n        if (decoded.role === 'Redacteur') {\n          setIsRedacteur(true)\n        }\n      } catch (err) {\n        console.error('Invalid token')\n      }\n    }\n\n    fetchArticles()\n  }, [])\n\n  useEffect(() => {\n    if (selectedCategory === 'all') {\n      setFilteredArticles(articles)\n    } else {\n      setFilteredArticles(articles.filter(article => article.categorie === selectedCategory))\n    }\n  }, [selectedCategory, articles])\n\n  return (\n    <main className=\"p-8\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-3xl font-bold\">Articles</h1>\n        {isRedacteur && (\n          <Link\n            href=\"/articles/create\"\n            className=\"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded\"\n          >\n            + Create Article\n          </Link>\n        )}\n      </div>\n\n      {/* Category Filter */}\n      <div className=\"mb-6\">\n        <select\n          value={selectedCategory}\n          onChange={(e) => setSelectedCategory(e.target.value)}\n          className=\"p-2 bg-gray-800 text-white rounded\"\n        >\n          {CATEGORIES.map((cat) => (\n            <option key={cat} value={cat}>\n              {cat === 'all' ? 'All Categories' : cat.charAt(0).toUpperCase() + cat.slice(1)}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {filteredArticles.map((article) => (\n          <ArticleCard key={article.id} article={article} />\n        ))}\n      </div>\n    </main>\n  )\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;;;AALA;;;;;;AAoBA,MAAM,aAAa;IAAC;IAAO;IAAS;IAAQ;IAAS;CAAO;AAE7C,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACjE,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM;wDAAgB;oBACpB,IAAI;wBACF,MAAM,MAAM,MAAM,iHAAA,CAAA,UAAG,CAAC,GAAG,CAAC;wBAC1B,YAAY,IAAI,IAAI;wBACpB,oBAAoB,IAAI,IAAI;oBAC9B,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC,iCAAiC;oBACjD;gBACF;;YAEA,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO;gBACT,IAAI;oBACF,MAAM,UAAwB,CAAA,GAAA,yJAAA,CAAA,YAAS,AAAD,EAAE;oBACxC,IAAI,QAAQ,IAAI,KAAK,aAAa;wBAChC,eAAe;oBACjB;gBACF,EAAE,OAAO,KAAK;oBACZ,QAAQ,KAAK,CAAC;gBAChB;YACF;YAEA;QACF;iCAAG,EAAE;IAEL,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,IAAI,qBAAqB,OAAO;gBAC9B,oBAAoB;YACtB,OAAO;gBACL,oBAAoB,SAAS,MAAM;8CAAC,CAAA,UAAW,QAAQ,SAAS,KAAK;;YACvE;QACF;iCAAG;QAAC;QAAkB;KAAS;IAE/B,qBACE,6LAAC;QAAK,WAAU;;0BACd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAqB;;;;;;oBAClC,6BACC,6LAAC,+JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;0BAOL,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,OAAO;oBACP,UAAU,CAAC,IAAM,oBAAoB,EAAE,MAAM,CAAC,KAAK;oBACnD,WAAU;8BAET,WAAW,GAAG,CAAC,CAAC,oBACf,6LAAC;4BAAiB,OAAO;sCACtB,QAAQ,QAAQ,mBAAmB,IAAI,MAAM,CAAC,GAAG,WAAW,KAAK,IAAI,KAAK,CAAC;2BADjE;;;;;;;;;;;;;;;0BAOnB,6LAAC;gBAAI,WAAU;0BACZ,iBAAiB,GAAG,CAAC,CAAC,wBACrB,6LAAC,6HAAA,CAAA,UAAW;wBAAkB,SAAS;uBAArB,QAAQ,EAAE;;;;;;;;;;;;;;;;AAKtC;GA5EwB;KAAA","debugId":null}}]
}