{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Win/OneDrive/Bureau/fullstack_project_CANGE_FABIAN/fullstack-project-cange-fabian-frontend/utils/axios.ts"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst API = axios.create({\r\n  baseURL: 'http://localhost:8000/api/',\r\n})\r\n\r\n// Interceptor to attach token to every request\r\n\r\nAPI.interceptors.request.use(config => {\r\n  const token = localStorage.getItem('access')\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`\r\n  }\r\n  return config\r\n})\r\n\r\nexport default API\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,+CAA+C;AAE/C,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;IAC3B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Win/OneDrive/Bureau/fullstack_project_CANGE_FABIAN/fullstack-project-cange-fabian-frontend/app/builds/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\nimport React, { useEffect, useState } from 'react'\nimport { useParams } from 'next/navigation'\nimport API from '@/utils/axios'\nimport { BsHandThumbsUp, BsHandThumbsDown, BsFillHouseDoorFill } from \"react-icons/bs\"\nimport { PiKeyReturnLight } from \"react-icons/pi\";\nimport Link from 'next/link'\n\ninterface User {\n  username: string;\n}\n\ninterface Champion {\n  name: string;\n  image_url: string;\n}\n\ninterface Avis {\n  author: User;\n  date_poste: string;\n  positif: boolean;\n  commentaire: string;\n  banned: boolean;\n}\n\ninterface Build {\n  id: number;\n  name: string;\n  role: string;\n  description: string;\n  author: User;\n  champion: Champion;\n  primary_path: string;\n  primary_path_icon_url: string;\n  keystone: string;\n  keystone_icon_url: string;\n  primary_slot1: string;\n  primary_slot1_icon_url: string;\n  primary_slot2: string;\n  primary_slot2_icon_url: string;\n  primary_slot3: string;\n  primary_slot3_icon_url: string;\n  secondary_path: string;\n  secondary_path_icon_url: string;\n  secondary_slot1: string;\n  secondary_slot1_icon_url: string;\n  secondary_slot2: string;\n  secondary_slot2_icon_url: string;\n  shard_offense: string;\n  shard_offense_icon_url: string;\n  shard_flex: string;\n  shard_flex_icon_url: string;\n  shard_defense: string;\n  shard_defense_icon_url: string;\n  likes: number;\n  dislikes: number;\n  avis: Avis[];\n  user_vote: boolean | null;\n}\n\nexport default function BuildDetailPage() {\n  const params = useParams()\n  const id = Array.isArray(params?.id) ? params.id[0] : params?.id\n  const [build, setBuild] = useState<Build | null>(null)\n  const [userVote, setUserVote] = useState<boolean | null>(null)\n\n  useEffect(() => {\n    const fetchBuild = async () => {\n      try {\n        const res = await API.get(`builds/${id}/`)\n        setBuild(res.data)\n        setUserVote(res.data.user_vote)\n      } catch (err) {\n        console.error('Error loading build:', err)\n      }\n    }\n    if (id) fetchBuild()\n  }, [id])\n\n  const handleVote = async (type: 'like' | 'dislike') => {\n    try {\n      const res = await API.post(`/builds/${id}/${type}/`)\n      setBuild((prev) => prev ? {\n        ...prev,\n        likes: res.data.likes,\n        dislikes: res.data.dislikes\n      } : null)\n      if ((type === 'like' && userVote === true) || (type === 'dislike' && userVote === false)) {\n        setUserVote(null)\n      } else {\n        setUserVote(type === 'like')\n      }\n    } catch (err) {\n      console.error(`Error ${type} build`, err)\n    }\n  }\n\n  if (!build) return <p className=\"p-8 text-white\">Loading build...</p>\n\n  const fallback = (name: string) => `/images/custom-runes/${name.replace(/ /g, '').replace(':', '').replace(\"'\", '')}.png`\n\n  return (\n    <main className=\"p-8 max-w-5xl mx-auto text-white space-y-10\">\n      <div className=\"flex justify-center mb-6 gap-10\">\n        <Link href=\"/\" className=\"flex items-center gap-3 bg-gray-700 hover:bg-gray-600 text-white text-lg px-5 py-3 rounded-lg transition-all\">\n          <BsFillHouseDoorFill size={24} />\n          Home\n        </Link>\n        <Link href=\"/builds\" className=\"flex items-center gap-3 bg-gray-700 hover:bg-gray-600 text-white text-lg px-5 py-3 rounded-lg transition-all\">\n          <PiKeyReturnLight size={24} />\n          Return\n        </Link>\n      </div>\n\n      <h1 className=\"text-5xl font-bold text-center\">{build.name}</h1>\n\n      <section className=\"flex items-center gap-6 bg-gray-800 bg-opacity-40 p-6 rounded-lg\">\n        <img src={build.champion?.image_url} alt={build.champion?.name} className=\"w-32 h-32 rounded-lg object-cover border-2 border-indigo-500\" />\n        <div className=\"text-lg space-y-2\">\n          <p><strong>Champion:</strong> {build.champion?.name}</p>\n          <p><strong>Role:</strong> {build.role}</p>\n          <p><strong>Author:</strong> {build.author?.username || 'Unknown'}</p>\n        </div>\n      </section>\n\n      <section className=\"bg-gray-800 bg-opacity-40 p-6 rounded-lg\">\n        <h2 className=\"text-3xl font-semibold mb-4\">Build Description</h2>\n        <div className=\"prose prose-invert max-w-none text-white\" dangerouslySetInnerHTML={{ __html: build.description }} />\n      </section>\n\n      <section className=\"bg-gray-800 bg-opacity-40 p-6 rounded-lg\">\n        <h2 className=\"text-3xl font-semibold mb-6\">Runes</h2>\n\n        <div className=\"mb-8\">\n          <h3 className=\"text-xl font-semibold mb-3\">Primary Path: {build.primary_path}</h3>\n          <div className=\"flex items-center gap-3 mb-4\">\n            <img src={build.primary_path_icon_url} onError={(e) => e.currentTarget.src = fallback(build.primary_path)} className=\"w-10 h-10\" />\n            <img src={build.keystone_icon_url} onError={(e) => e.currentTarget.src = fallback(build.keystone)} className=\"w-10 h-10\" />\n            <span>{build.keystone}</span>\n          </div>\n          <div className=\"flex gap-4\">\n            {[1, 2, 3].map(i => (\n              <img key={i} src={build[`primary_slot${i}_icon_url` as keyof Build] as string}\n                alt={build[`primary_slot${i}` as keyof Build] as string}\n                onError={(e) => e.currentTarget.src = fallback(build[`primary_slot${i}` as keyof Build] as string)}\n                className=\"w-10 h-10\" />\n            ))}\n          </div>\n        </div>\n\n        <div className=\"mb-8\">\n          <h3 className=\"text-xl font-semibold mb-3\">Secondary Path: {build.secondary_path}</h3>\n          <div className=\"flex items-center gap-3 mb-4\">\n            <img src={build.secondary_path_icon_url} onError={(e) => e.currentTarget.src = fallback(build.secondary_path)} className=\"w-10 h-10\" />\n          </div>\n          <div className=\"flex gap-4\">\n            {[1, 2].map(i => (\n              <img key={i} src={build[`secondary_slot${i}_icon_url` as keyof Build] as string}\n                alt={build[`secondary_slot${i}` as keyof Build] as string}\n                onError={(e) => e.currentTarget.src = fallback(build[`secondary_slot${i}` as keyof Build] as string)}\n                className=\"w-10 h-10\" />\n            ))}\n          </div>\n        </div>\n\n        <div>\n          <h3 className=\"text-xl font-semibold mb-3\">Stat Shards</h3>\n          <div className=\"flex gap-4\">\n            {['shard_offense', 'shard_flex', 'shard_defense'].map((key) => (\n              <img key={key} src={build[`${key}_icon_url` as keyof Build] as string}\n                alt={build[key as keyof Build] as string}\n                onError={(e) => e.currentTarget.src = fallback(build[key as keyof Build] as string)}\n                className=\"w-8 h-8\" />\n            ))}\n          </div>\n        </div>\n      </section>\n\n      <section className=\"bg-gray-800 bg-opacity-40 p-6 rounded-lg\">\n        <h2 className=\"text-xl font-semibold mb-4\">Votes</h2>\n        <div className=\"flex items-center gap-6 text-2xl\">\n          <button onClick={() => handleVote('like')}\n            className={`hover:text-green-500 transition ${userVote === true ? 'text-green-500' : ''}`}\n            title=\"Like this build\">\n            <BsHandThumbsUp className=\"inline mr-1\" /> {build.likes || 0}\n          </button>\n          <button onClick={() => handleVote('dislike')}\n            className={`hover:text-red-500 transition ${userVote === false ? 'text-red-500' : ''}`}\n            title=\"Dislike this build\">\n            <BsHandThumbsDown className=\"inline mr-1\" /> {build.dislikes || 0}\n          </button>\n        </div>\n      </section>\n\n      <section className=\"bg-gray-800 bg-opacity-40 p-6 rounded-lg\">\n        <h2 className=\"text-xl font-semibold mb-4\">Comments</h2>\n        {build.avis?.filter((a) => !a.banned).length > 0 ? (\n          build.avis.filter((a) => !a.banned).map((a, i) => (\n            <div key={i} className=\"border border-gray-600 p-4 rounded-md mb-4\">\n              <div className=\"flex justify-between items-center mb-2\">\n                <p className=\"text-sm text-gray-300\">\n                  <strong>{a.author?.username || 'Anonymous'}</strong> ‚Äî{\" \"}\n                  {new Date(a.date_poste).toLocaleString()}\n                </p>\n                <span className={`text-sm px-2 py-1 rounded-md ${a.positif ? 'bg-green-600' : 'bg-red-600'}`}>\n                  {a.positif ? 'üëç Positive' : 'üëé Negative'}\n                </span>\n              </div>\n              <p className=\"text-white\">{a.commentaire}</p>\n            </div>\n          ))\n        ) : (\n          <p className=\"text-gray-400\">No visible comments yet.</p>\n        )}\n      </section>\n    </main>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}