{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Win/OneDrive/Bureau/fullstack_project_CANGE_FABIAN/fullstack-project-cange-fabian-frontend/utils/axios.ts"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst API = axios.create({\r\n  baseURL: 'http://localhost:8000/api/',\r\n})\r\n\r\n// Interceptor to attach token to every request\r\n\r\nAPI.interceptors.request.use(config => {\r\n  const token = localStorage.getItem('access')\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`\r\n  }\r\n  return config\r\n})\r\n\r\nexport default API\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,+CAA+C;AAE/C,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;IAC3B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Win/OneDrive/Bureau/fullstack_project_CANGE_FABIAN/fullstack-project-cange-fabian-frontend/app/builds/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\nimport React, { useEffect, useState } from \"react\"\nimport { useParams } from \"next/navigation\"\nimport API from \"@/utils/axios\"\nimport {\n  BsHandThumbsUpFill,\n  BsHandThumbsDownFill,\n  BsFillHouseDoorFill,\n} from \"react-icons/bs\"\nimport { PiKeyReturnLight } from \"react-icons/pi\"\nimport Link from \"next/link\"\n\ninterface User {\n  username: string\n}\n\ninterface Champion {\n  name: string\n  image_url: string\n}\n\ninterface Avis {\n  author: User\n  date_poste: string\n  positif: boolean\n  commentaire: string\n  banned: boolean\n}\n\ninterface Build {\n  id: number\n  name: string\n  role: string\n  description: string\n  author: User\n  champion: Champion\n  primary_path: string\n  primary_path_icon_url: string\n  keystone: string\n  keystone_icon_url: string\n  primary_slot1: string\n  primary_slot1_icon_url: string\n  primary_slot2: string\n  primary_slot2_icon_url: string\n  primary_slot3: string\n  primary_slot3_icon_url: string\n  secondary_path: string\n  secondary_path_icon_url: string\n  secondary_slot1: string\n  secondary_slot1_icon_url: string\n  secondary_slot2: string\n  secondary_slot2_icon_url: string\n  shard_offense: string\n  shard_offense_icon_url: string\n  shard_flex: string\n  shard_flex_icon_url: string\n  shard_defense: string\n  shard_defense_icon_url: string\n  avis: Avis[]\n}\n\nexport default function BuildDetailPage() {\n  const params = useParams()\n  const id = Array.isArray(params?.id) ? params.id[0] : params?.id\n  const [build, setBuild] = useState<Build | null>(null)\n  const [newComment, setNewComment] = useState(\"\")\n  const [isPositive, setIsPositive] = useState(true)\n  const [submitMessage, setSubmitMessage] = useState(\"\")\n\n  const fallback = (name: string) =>\n    `/images/custom-runes/${name.replace(/ /g, \"\").replace(\":\", \"\").replace(\"'\", \"\")}.png`\n\n  const fetchBuild = async () => {\n    try {\n      const res = await API.get(`builds/${id}/`)\n      setBuild(res.data)\n    } catch (err) {\n      console.error(\"Error loading build:\", err)\n    }\n  }\n\n  useEffect(() => {\n    if (id) fetchBuild()\n  }, [id])\n\n  const handleSubmitComment = async () => {\n    if (!newComment.trim()) return\n    try {\n      await API.post(\n        `/builds/${id}/avis/`,\n        {\n          commentaire: newComment,\n          positif: isPositive,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"access\")}`,\n          },\n        }\n      )\n      setSubmitMessage(\"Commentaire envoyé !\")\n      setNewComment(\"\")\n      fetchBuild()\n    } catch (err) {\n      console.error(err)\n      setSubmitMessage(\"Erreur lors de l'envoi.\")\n    }\n  }\n\n  if (!build) return <p className=\"p-8 text-white\">Loading build...</p>\n\n  return (\n    <main className=\"p-8 max-w-5xl mx-auto text-white space-y-10\">\n      <div className=\"flex justify-center mb-6 gap-10\">\n        <Link\n          href=\"/\"\n          className=\"flex items-center gap-3 bg-gray-700 hover:bg-gray-600 text-white text-lg px-5 py-3 rounded-lg transition-all\"\n        >\n          <BsFillHouseDoorFill size={24} />\n          Home\n        </Link>\n        <Link\n          href=\"/builds\"\n          className=\"flex items-center gap-3 bg-gray-700 hover:bg-gray-600 text-white text-lg px-5 py-3 rounded-lg transition-all\"\n        >\n          <PiKeyReturnLight size={24} />\n          Return\n        </Link>\n      </div>\n\n      <h1 className=\"text-5xl font-bold text-center\">{build.name}</h1>\n\n      <section className=\"flex items-center gap-6 bg-gray-800 bg-opacity-40 p-6 rounded-lg\">\n        <img\n          src={build.champion?.image_url}\n          alt={build.champion?.name}\n          className=\"w-32 h-32 rounded-lg object-cover border-2 border-indigo-500\"\n        />\n        <div className=\"text-lg space-y-2\">\n          <p><strong>Champion:</strong> {build.champion?.name}</p>\n          <p><strong>Role:</strong> {build.role}</p>\n          <p><strong>Author:</strong> {build.author?.username || \"Unknown\"}</p>\n        </div>\n      </section>\n\n      <section className=\"bg-gray-800 bg-opacity-40 p-6 rounded-lg\">\n        <h2 className=\"text-3xl font-semibold mb-4\">Build Description</h2>\n        <div\n          className=\"prose prose-invert max-w-none text-white\"\n          dangerouslySetInnerHTML={{ __html: build.description }}\n        />\n      </section>\n\n      {/* RUNES */}\n      <section className=\"bg-gray-800 bg-opacity-40 p-6 rounded-lg\">\n        <h2 className=\"text-3xl font-semibold mb-6\">Runes</h2>\n\n        <div className=\"mb-8\">\n          <h3 className=\"text-xl font-semibold mb-3\">Primary Path: {build.primary_path}</h3>\n          <div className=\"flex items-center gap-3 mb-4\">\n            <img\n              src={build.primary_path_icon_url}\n              onError={(e) => (e.currentTarget.src = fallback(build.primary_path))}\n              className=\"w-10 h-10\"\n            />\n            <img\n              src={build.keystone_icon_url}\n              onError={(e) => (e.currentTarget.src = fallback(build.keystone))}\n              className=\"w-10 h-10\"\n            />\n            <span>{build.keystone}</span>\n          </div>\n          <div className=\"flex gap-4\">\n            {[1, 2, 3].map((i) => (\n              <img\n                key={i}\n                src={build[`primary_slot${i}_icon_url` as keyof Build] as string}\n                alt={build[`primary_slot${i}` as keyof Build] as string}\n                onError={(e) =>\n                  (e.currentTarget.src = fallback(build[`primary_slot${i}` as keyof Build] as string))\n                }\n                className=\"w-10 h-10\"\n              />\n            ))}\n          </div>\n        </div>\n\n        <div className=\"mb-8\">\n          <h3 className=\"text-xl font-semibold mb-3\">Secondary Path: {build.secondary_path}</h3>\n          <div className=\"flex items-center gap-3 mb-4\">\n            <img\n              src={build.secondary_path_icon_url}\n              onError={(e) => (e.currentTarget.src = fallback(build.secondary_path))}\n              className=\"w-10 h-10\"\n            />\n          </div>\n          <div className=\"flex gap-4\">\n            {[1, 2].map((i) => (\n              <img\n                key={i}\n                src={build[`secondary_slot${i}_icon_url` as keyof Build] as string}\n                alt={build[`secondary_slot${i}` as keyof Build] as string}\n                onError={(e) =>\n                  (e.currentTarget.src = fallback(build[`secondary_slot${i}` as keyof Build] as string))\n                }\n                className=\"w-10 h-10\"\n              />\n            ))}\n          </div>\n        </div>\n\n        <div>\n          <h3 className=\"text-xl font-semibold mb-3\">Stat Shards</h3>\n          <div className=\"flex gap-4\">\n            {[\"shard_offense\", \"shard_flex\", \"shard_defense\"].map((key) => (\n              <img\n                key={key}\n                src={build[`${key}_icon_url` as keyof Build] as string}\n                alt={build[key as keyof Build] as string}\n                onError={(e) => (e.currentTarget.src = fallback(build[key as keyof Build] as string))}\n                className=\"w-8 h-8\"\n              />\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* COMMENTS */}\n      <section className=\"bg-gray-800 bg-opacity-40 p-6 rounded-lg\">\n        <h2 className=\"text-xl font-semibold mb-4\">Comments</h2>\n        {build.avis?.filter((a) => !a.banned).length > 0 ? (\n          build.avis\n            .filter((a) => !a.banned)\n            .map((a, i) => (\n              <div key={i} className=\"border border-gray-600 p-4 rounded-md mb-4\">\n                <div className=\"flex justify-between items-center mb-2\">\n                  <p className=\"text-sm text-gray-300\">\n                    <strong>{a.author?.username || \"Anonymous\"}</strong> —{\" \"}\n                    {new Date(a.date_poste).toLocaleString()}\n                  </p>\n                  <span\n                    className={`flex items-center gap-1 text-sm px-2 py-1 rounded-md ${\n                      a.positif ? \"bg-green-600\" : \"bg-red-600\"\n                    }`}\n                  >\n                    {a.positif ? <BsHandThumbsUpFill className=\"text-white\" /> : <BsHandThumbsDownFill className=\"text-white\" />}\n                    {a.positif ? \"Positive\" : \"Negative\"}\n                  </span>\n                </div>\n                <p className=\"text-white\">{a.commentaire}</p>\n              </div>\n            ))\n        ) : (\n          <p className=\"text-gray-400\">No visible comments yet.</p>\n        )}\n\n        <div className=\"mt-6 border-t border-gray-700 pt-6\">\n          <h3 className=\"text-xl mb-4\">Write a comment</h3>\n          {submitMessage && <p className=\"text-green-400 mb-2\">{submitMessage}</p>}\n          <textarea\n            placeholder=\"Write a comment...\"\n            className=\"w-full p-3 rounded bg-gray-900 text-white border border-gray-600 mb-3\"\n            value={newComment}\n            onChange={(e) => setNewComment(e.target.value)}\n          />\n          <div className=\"flex items-center gap-4 mb-4\">\n            <label className=\"flex items-center gap-1\">\n              <input\n                type=\"radio\"\n                name=\"avis\"\n                checked={isPositive}\n                onChange={() => setIsPositive(true)}\n              />\n              <BsHandThumbsUpFill className=\"text-white\" /> Positive\n            </label>\n            <label className=\"flex items-center gap-1\">\n              <input\n                type=\"radio\"\n                name=\"avis\"\n                checked={!isPositive}\n                onChange={() => setIsPositive(false)}\n              />\n              <BsHandThumbsDownFill className=\"text-white\" /> Negative\n            </label>\n          </div>\n          <button\n            onClick={handleSubmitComment}\n            className=\"bg-indigo-600 hover:bg-indigo-700 px-4 py-2 rounded text-white\"\n          >\n            Submit\n          </button>\n        </div>\n      </section>\n    </main>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}